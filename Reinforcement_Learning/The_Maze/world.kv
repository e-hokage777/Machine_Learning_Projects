#: import MenuWidget menu.menu.MenuWidget

WindowManager:
    MenuWidget:
    Game:

## The GAME tree##
<Game>:
    name: "game"
    maze: maze
    Maze:
        id: maze
        agent: agent
        size_hint: None, None
        size: root.MAZE_WIDTH, root.MAZE_HEIGHT
        pos: root.width * 0.5 - self.width*0.5, root.height * 0.5 - self.height*0.5
        num_tiles: root.NUM_TILES
        num_enemies: root.NUM_ENEMIES
        
        Agent:
            id: agent

    BoxLayout:
        size_hint: None, None
        width: 300
        height: 50
        opacity: 0.5
        Button:
            text: "<="
            on_press:
                root.manager.transition.direction = "right"
                app.root.current = "menu"
        Button:
            text: "Toggle QGrid"
            on_press: root.toggle_qgrid_display()
        Button:
            text: root.game_mode_btn_text
            on_press: root.toggle_game_mode()


<Agent>:
    size_hint: None, None
    canvas:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "assets/agent.png"
        

<QTile>:
    size_hint: None, None
    # canvas.before:
    #     Color:
    #         rgb: 1,1,1
    #     Line:
    #         width: 1
    #         points: 0, 0, self.width, self.height
    #     Line:
    #         width: 1
    #         points: 0, self.height, self.width, 0

    Label:
        text: root.action_0
        pos_hint: {"top": 1, "x": 0}
        size_hint: 1, 0.25
        font_size: 12
        color: "white"
        # canvas.before:
        #     Triangle:
        #         points: self.parent.width*0.5, self.parent.height*0.5, 0, -self.parent.height, self.parent.width, self.parent.height
    Label:
        text: root.action_1
        pos_hint: {"center_y": 0.5, "right": 1}
        size_hint: 0.25, 1
        font_size: 12
        color: "white"
    Label:
        text: root.action_2
        pos_hint: {"y": 0, "x": 0}
        size_hint: 1, 0.25
        font_size: 12
        color: "white"
    Label:
        text: root.action_3
        pos_hint: {"center_y": 0.5, "x": 0}
        size_hint: 0.25, 1
        font_size: 12
        color: "white"


<QGrid>
    size_hint: None, None
    pos_hint: {"center_x": 0.5, "center_y": 0.5}
    # opacity: 0.5
    canvas.before:
        Color:
            rgba: 0, 0, 0, 0.5
        Rectangle:
            size: self.size
            pos: self.pos